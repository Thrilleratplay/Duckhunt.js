function duckhunt(){function a(c,d){!c.shot&&(d>l||0>=k)?(c.orientationNum=2,b(c)):!c.shot&&l>=d&&(c.leftOffset>=r.offsetWidth-m?(c.e.className="duckhunt_sprites duckhunt_duck duckhunt_hoz_flip",c.slopeX=-j()):c.leftOffset<=0&&(c.e.className="duckhunt_sprites duckhunt_duck",c.slopeX=j()),c.topOffset<=0?(c.slopeY=j(),c.orientationNum=c.slopeX/c.slopeY<1.03?0:1):c.topOffset>=r.offsetHeight-n&&(c.slopeY=-j(),c.orientationNum=c.slopeX/c.slopeY<1.03?0:1),c.topOffset+=8*c.slopeY,c.leftOffset+=8*c.slopeX,c.e.style.top=c.topOffset+"px",c.e.style.left=c.leftOffset+"px",c.spriteNum=2==c.spriteNum?0:c.spriteNum+1,c.e.style.backgroundPosition=o[c.spriteNum]+"px "+p[c.orientationNum]+"px",setTimeout(function(){a(c,d+1)},50))}function b(a){a.topOffset-=15,a.e.style.top=a.topOffset+"px",a.spriteNum=2==a.spriteNum?0:a.spriteNum+1,a.e.style.backgroundPosition=o[a.spriteNum]+"px "+p[a.orientationNum]+"px",a.topOffset>-n?setTimeout(function(){b(a)},50):(a.finished=!0,e())}function c(){var a="duck1"==this.id?s:t;return k>0&&2!=a.orientationNum&&(a.shot=!0,a.e.style.backgroundPosition="-435px -145px",setTimeout(function(){a.e.style.backgroundPosition="-435px -290px",d(a,!1)},400)),!1}function d(a,b){a.e.className=b?"duckhunt_sprites duckhunt_duck duckhunt_hoz_flip":"duckhunt_sprites duckhunt_duck",a.topOffset+=30,a.e.style.top=a.topOffset+"px",a.topOffset<r.offsetHeight+n?setTimeout(function(){d(a,!b)},50):(a.finished=!0,e())}function e(){if(s.finished&&t.finished){var a=r.appendChild(document.createElement("div"));a.style.top=r.offsetHeight+n+"px",a.className="duckhunt_sprites duckhunt_dog",s.shot&&t.shot?(a.style.backgroundPosition="0px -435px",a.style.width="250px"):s.shot||t.shot?(a.style.backgroundPosition="-250px -435px",a.style.width="200px"):(a.style.backgroundPosition="-450px -435px",a.style.width="150px"),a.style.top=r.offsetHeight+"px",f(a,!0)}}function f(a,b){var c=r.offsetHeight-parseInt(a.style.top);160>c&&b?(a.style.top=parseInt(a.style.top)-20+"px",setTimeout(function(){f(a,b)},60)):c>0&&!b?(a.style.top=parseInt(a.style.top)+20+"px",setTimeout(function(){f(a,b)},60)):c>=160&&"-450px -435px"==a.style.backgroundPosition?g(a,8):c>=160?setTimeout(function(){f(a,!b)},1e3):document.body.removeChild(q)}function g(a,b){b>0?(a.style.backgroundPosition="-450px -435px"==a.style.backgroundPosition?"-600px -435px":"-450px -435px",setTimeout(function(){g(a,b-1)},110)):f(a,!1)}function h(){if(k>0){var a=s.e.className,b=t.e.className;k--,q.style.backgroundColor="rgb(0, 0, 0)",r.style.backgroundColor="rgb(0, 0, 0)",s.e.style.backgroundColor="rgb(255, 255, 255)",t.e.style.backgroundColor="rgb(255, 255, 255)",s.e.style.backgroundImage="none",t.e.style.backgroundImage="none",setTimeout(function(){q.style.backgroundColor="",r.style.backgroundColor="",s.e.style.backgroundColor=null,t.e.style.backgroundColor=null,s.e.style.backgroundImage=null,t.e.style.backgroundImage=null,s.e.className=a,t.e.className=b},100)}}function i(){return Math.round(.8*Math.random()*r.offsetWidth)+.1*r.offsetWidth}function j(){return Math.atan(90*Math.random())}var k=3,l=100,m=145,n=145,o=[0,-145,-290],p=[0,-145,-290],q=document.body.appendChild(document.createElement("div"));q.className="duckhunt_overlay";var r=q.appendChild(document.createElement("div"));r.className="duckhunt_overlay",r.onclick=h;var s=new Object({e:r.appendChild(document.createElement("div")),spriteNum:0,orientationNum:1,slopeX:j(),slopeY:0,shot:!1,finished:!1,topOffset:r.offsetHeight,leftOffset:i()}),t=new Object({e:r.appendChild(document.createElement("div")),spriteNum:0,orientationNum:0,slopeX:-j(),slopeY:0,shot:!1,finished:!1,topOffset:r.offsetHeight,leftOffset:i()});s.e.id="duck1",t.e.id="duck2",s.e.className="duckhunt_sprites duckhunt_duck",t.e.className="duckhunt_sprites duckhunt_duck duckhunt_hoz_flip",s.e.onclick=c,t.e.onclick=c,a(s,1),a(t,1)}